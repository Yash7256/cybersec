{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yash/CyberSec-Main/components/ui/dot-shader-background.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo, useEffect } from 'react'\nimport { Canvas, ThreeEvent, useFrame, useThree } from '@react-three/fiber'\nimport { shaderMaterial, useTrailTexture } from '@react-three/drei'\nimport { useTheme } from 'next-themes' // lub tw√≥j provider\nimport * as THREE from 'three'\n\nconst DotMaterial = shaderMaterial(\n  {\n    time: 0,\n    resolution: new THREE.Vector2(),\n    dotColor: new THREE.Color('#FFFFFF'),\n    bgColor: new THREE.Color('#121212'),\n    mouseTrail: null,\n    render: 0,\n    rotation: 0,\n    gridSize: 50,\n    dotOpacity: 0.05\n  },\n  /* glsl */ `\n    void main() {\n      gl_Position = vec4(position.xy, 0.0, 1.0);\n    }\n  `,\n  /* glsl */ `\n    uniform float time;\n    uniform int render;\n    uniform vec2 resolution;\n    uniform vec3 dotColor;\n    uniform vec3 bgColor;\n    uniform sampler2D mouseTrail;\n    uniform float rotation;\n    uniform float gridSize;\n    uniform float dotOpacity;\n\n    vec2 rotate(vec2 uv, float angle) {\n        float s = sin(angle);\n        float c = cos(angle);\n        mat2 rotationMatrix = mat2(c, -s, s, c);\n        return rotationMatrix * (uv - 0.5) + 0.5;\n    }\n\n    vec2 coverUv(vec2 uv) {\n      vec2 s = resolution.xy / max(resolution.x, resolution.y);\n      vec2 newUv = (uv - 0.5) * s + 0.5;\n      return clamp(newUv, 0.0, 1.0);\n    }\n\n    float sdfCircle(vec2 p, float r) {\n        return length(p - 0.5) - r;\n    }\n\n    void main() {\n      vec2 screenUv = gl_FragCoord.xy / resolution;\n      vec2 uv = coverUv(screenUv);\n\n      vec2 rotatedUv = rotate(uv, rotation);\n\n      // Create a grid\n      vec2 gridUv = fract(rotatedUv * gridSize);\n      vec2 gridUvCenterInScreenCoords = rotate((floor(rotatedUv * gridSize) + 0.5) / gridSize, -rotation);\n\n      // Calculate distance from the center of each cell\n      float baseDot = sdfCircle(gridUv, 0.25);\n\n      // Screen mask\n      float screenMask = smoothstep(0.0, 1.0, 1.0 - uv.y); // 0 at the top, 1 at the bottom\n      vec2 centerDisplace = vec2(0.7, 1.1);\n      float circleMaskCenter = length(uv - centerDisplace);\n      float circleMaskFromCenter = smoothstep(0.5, 1.0, circleMaskCenter);\n      \n      float combinedMask = screenMask * circleMaskFromCenter;\n      float circleAnimatedMask = sin(time * 2.0 + circleMaskCenter * 10.0);\n\n      // Mouse trail effect\n      float mouseInfluence = texture2D(mouseTrail, gridUvCenterInScreenCoords).r;\n      \n      float scaleInfluence = max(mouseInfluence * 0.5, circleAnimatedMask * 0.3);\n\n      // Create dots with animated scale, influenced by mouse\n      float dotSize = min(pow(circleMaskCenter, 2.0) * 0.3, 0.3);\n\n      float sdfDot = sdfCircle(gridUv, dotSize * (1.0 + scaleInfluence * 0.5));\n\n      float smoothDot = smoothstep(0.05, 0.0, sdfDot);\n\n      float opacityInfluence = max(mouseInfluence * 50.0, circleAnimatedMask * 0.5);\n\n      // Mix background color with dot color, using animated opacity to increase visibility\n      vec3 composition = mix(bgColor, dotColor, smoothDot * combinedMask * dotOpacity * (1.0 + opacityInfluence));\n\n      gl_FragColor = vec4(composition, 1.0);\n\n      #include <tonemapping_fragment>\n      #include <colorspace_fragment>\n    }\n  `\n)\n\nfunction Scene() {\n  const size = useThree((s) => s.size)\n  const viewport = useThree((s) => s.viewport)\n  const { theme } = useTheme()\n  \n  const rotation = 0\n  const gridSize = 100\n\n  const getThemeColors = () => {\n    switch (theme) {\n      case 'dark':\n        return {\n          dotColor: '#FFFFFF',\n          bgColor: '#121212',\n          dotOpacity: 0.025\n        }\n      case 'light':\n        return {\n          dotColor: '#e1e1e1',\n          bgColor: '#F4F5F5',\n          dotOpacity: 0.15\n        }\n      default:\n        return {\n          dotColor: '#FFFFFF',\n          bgColor: '#121212',\n          dotOpacity: 0.05\n        }\n    }\n  }\n\n  const themeColors = getThemeColors()\n\n  const [trail, onMove] = useTrailTexture({\n    size: 512,\n    radius: 0.1,\n    maxAge: 400,\n    interpolate: 1,\n    ease: function easeInOutCirc(x) {\n      return x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2\n    }\n  })\n\n  const dotMaterial = useMemo(() => {\n    return new DotMaterial()\n  }, [])\n\n  useEffect(() => {\n    dotMaterial.uniforms.dotColor.value.setHex(themeColors.dotColor.replace('#', '0x'))\n    dotMaterial.uniforms.bgColor.value.setHex(themeColors.bgColor.replace('#', '0x'))\n    dotMaterial.uniforms.dotOpacity.value = themeColors.dotOpacity\n  }, [theme, dotMaterial, themeColors])\n\n  useFrame((state) => {\n    dotMaterial.uniforms.time.value = state.clock.elapsedTime\n  })\n\n  const handlePointerMove = (e: ThreeEvent<PointerEvent>) => {\n    onMove(e)\n  }\n\n  const scale = Math.max(viewport.width, viewport.height) / 2\n\n  return (\n    <mesh scale={[scale, scale, 1]} onPointerMove={handlePointerMove}>\n      <planeGeometry args={[2, 2]} />\n      <primitive\n        object={dotMaterial}\n        resolution={[size.width * viewport.dpr, size.height * viewport.dpr]}\n        rotation={rotation}\n        gridSize={gridSize}\n        mouseTrail={trail}\n        render={0}\n      />\n    </mesh>\n  )\n}\n\nexport const DotScreenShader = () => {\n  return (\n    <Canvas\n      gl={{\n        antialias: true,\n        powerPreference: 'high-performance',\n        outputColorSpace: THREE.SRGBColorSpace,\n        toneMapping: THREE.NoToneMapping\n      }}>\n      <Scene />\n    </Canvas>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}